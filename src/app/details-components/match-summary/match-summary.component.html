<div fxLayout="column" fxLayoutGap="20px" class="container">
    <div class="tabs-row">
        <div (click)="selectTab('Commentry')" [class.active]="selectedTab === 'Commentry'">Commentry</div>
        <div (click)="selectTab('Wickets')" [class.active]="selectedTab === 'Wickets'">Wickets</div>
    </div>

    <div>
        <div class="loading-container" *ngIf="isLoading; else content">
            <div class="spinner-wrapper">
                <mat-spinner diameter="30"></mat-spinner>
            </div>
        </div>
        <ng-template #content>
            <div *ngIf="selectedTab === 'Commentry'">
                <div class="tabs-row">
                    <div *ngFor="let summary of summaryDatas[0]?.SDInn" (click)="selectWicketsTab(summary.Ti)"
                        [class.active]="selectedWicketsTab === summary.Ti">{{ summary.Ti }}</div>
                </div>
                <div *ngFor="let summary of summaryDatas[0]?.SDInn">
                    <div *ngIf="selectedWicketsTab === summary.Ti" class="table-container">
                        <!-- {{ summary.Ti }} content goes here -->
                        <table mat-table [dataSource]="summary.Com" class="mat-elevation-z8">
                            <!-- B Column -->
                            <ng-container matColumnDef="bColumn">
                                <td mat-cell *matCellDef="let wicket" ><p *ngIf="wicket.Aid !== 0 && wicket.Oid !== 0">{{ wicket.Ov }}</p></td>
                            </ng-container>
                            <!-- W Column -->
                            <ng-container matColumnDef="wColumn" >
                                <td mat-cell *matCellDef="let wicket" >
                                    <div class="circle" *ngIf="wicket.Aid !== 0 && wicket.Oid !== 0">
                                    <p class="w-icon">{{ wicket.Sv }}</p>
                                  </div></td>
                            </ng-container>
                            <!-- Wicket Comment Column -->
                            <ng-container matColumnDef="coColumn">
                                <td mat-cell *matCellDef="let wicket" colspan="2" >
                                    <p class="playerNameContainer" *ngIf="wicket.Aid !== 0 && wicket.Oid !== 0">
                                        <span class="playersName">{{getBowlerByPid(wicket.Oid)}} to {{ getBatterByPid(wicket.Aid)}}</span>
                                        <!-- <span class="playersName">{{wicket.R}}/{{wicket.WkN}}</span> -->
                                    </p>
                                    {{ wicket.Aid === 0 && wicket.Oid === 0 ? (wicket.S ? wicket.S + '. ' : '')+ wicket.T : wicket.T }}
                                </td>
                            </ng-container>

                            <!-- Columns displayed in the table -->
                            <tr mat-row *matRowDef="let row; columns: ['bColumn', 'wColumn', 'coColumn']"></tr>
                        </table>
                    </div>
                </div>

            </div>
            <!-- <div *ngIf="selectedTab === 'Wickets'">Wickets content goes here</div> -->
            <div *ngIf="selectedTab === 'Wickets'">
                <div class="tabs-row">
                    <div *ngFor="let summary of summaryDatas[0]?.SDInn" (click)="selectWicketsTab(summary.Ti)"
                        [class.active]="selectedWicketsTab === summary.Ti">{{ summary.Ti }}</div>
                </div>
                <div *ngFor="let summary of summaryDatas[0]?.SDInn">
                    <div *ngIf="selectedWicketsTab === summary.Ti">
                        <!-- {{ summary.Ti }} content goes here -->
                        <table mat-table [dataSource]="summary.FoW" class="mat-elevation-z8">

                            <!-- B Column -->
                            <ng-container matColumnDef="bColumn">
                                <td mat-cell *matCellDef="let wicket">{{ wicket.B }}</td>
                            </ng-container>

                            <!-- W Column -->
                            <ng-container matColumnDef="wColumn">
                                <td mat-cell *matCellDef="let wicket">
                                    
                                    <div class="circle">
                                    <p class="w-icon">W</p>
                                  </div></td>
                            </ng-container>

                            <!-- Wicket Comment Column -->
                            <ng-container matColumnDef="coColumn">
                                <td mat-cell *matCellDef="let wicket" colspan="2">
                                    <p class="playerNameContainer">
                                        <span class="playersName">{{getBowlerByPid(wicket.Bid)}} to {{ getBatterByPid(wicket.Pid)}}</span>
                                        <span class="playersName">{{wicket.R}}/{{wicket.WkN}}</span>
                                    </p>
                                    {{ wicket.Co }}</td>
                            </ng-container>

                            <!-- Columns displayed in the table -->
                            <tr mat-row *matRowDef="let row; columns: ['bColumn', 'wColumn', 'coColumn']"></tr>
                        </table>
                    </div>
                </div>

            </div>
        </ng-template>
    </div>
</div>